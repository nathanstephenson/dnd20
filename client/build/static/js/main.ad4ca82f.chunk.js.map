{"version":3,"sources":["misc/UserContext.js","queries.js","components/main/navbar.js","pages/Home.js","components/campaigns/EditCampaign.js","components/campaigns/DisplayCampaigns.js","pages/Campaigns.js","functions/GeneralFunctions.js","components/characters/EditCharacter.js","components/characters/DisplayCharacters.js","pages/Characters.js","components/play/party.js","pages/Play.js","pages/MyAccount.js","components/main/PageSwitch.js","components/main/Main.js","pages/Register.js","pages/Login.js","App.js","index.js"],"names":["UserContext","React","createContext","user","refreshUser","toggleNavBar","getUserID","gql","getUserByID","addUser","getCampaign","addCampaign","joinExistingCampaign","deleteCampaign","renameCampaign","getCharacter","addCharacter","updateCharacterInfo","updateCharacterStats","deleteCharacter","getClasses","getRaces","createSession","endSession","changeCharacterHealth","currentSession","onSessionUpdate","NavBar","props","window","location","pathname","links","to","className","Home","me","useContext","useState","buttonText","setButtonText","src","alt","name","onClick","EditCampaign","campaignID","handleNameChange","bind","submit","delete","submitted","returnCampaign","toggleID","state","loaded","campaign","showID","e","preventDefault","this","setState","target","value","back","console","log","isDM","currentUserID","dm","LoadCampaign","ID","return","onSubmit","htmlFor","type","id","required","onChange","SubmitCampaign","DeleteCampaign","Component","useQuery","variables","fetchPolicy","loading","data","error","useMutation","submitCampaign","undefined","currentUser","delCampaign","_id","DisplayCampaigns","needsRefresh","refreshed","campaignList","campaigns","map","currentValue","index","Campaign","changeSelected","purpose","length","Campaigns","selected","chosen","changeChosen","wantsNew","changeWantsNew","newName","changeNewName","newSubmitted","changeNewSubmitted","changeNeedsRefresh","wantsJoin","changeWantsJoin","joinName","changeJoinName","joinSubmitted","changeJoinSubmitted","newCampaign","addData","addLoading","joinCampaign","joinData","joinLoading","useEffect","arrayToOptions","array","newArray","i","push","EditCharacter","characterID","returnLoaded","submittedNew","character","submitNew","submitGeneral","race","bg","CharacterInfo","new","LoadCharacter","raceLoading","raceData","classLoading","classData","page","pages","NewGeneralInfo","races","ExistingGeneralInfo","classes","forEach","element","changeName","background","changeBG","changeRace","changeCampaign","createNew","newLoading","newData","CampaignSelect","rows","cols","maxLength","RaceSelect","class","charClass","changeClass","str","changeStr","dex","changeDex","con","changeCon","int","changeInt","wis","changeWis","cha","changeCha","rename","toggleRename","delCharacter","delLoading","delData","updateInfo","infoLoading","infoData","parseInt","updateStats","statsLoading","statsData","current","ClassSelect","min","max","classOptions","selectedIndex","raceOptions","alignment","campaignOptions","DisplayCharacters","startSession","finishSession","characterList","characters","Character","find","contextType","Characters","needsSubmit","handleEditSubmit","clearSelected","context","PartyCharacters","session","myCharacter","sessionID","partyCharacters","changeHealth","hp","Play","setNeedsRefresh","needsRefetch","setNeedsRefetch","PlayView","refetched","queryData","queryLoading","refetch","useSubscription","updateData","updateLoading","changeData","sessionUpdate","MyAccount","PageSwitch","exact","path","component","Main","notifyOnNetworkStatusChange","networkStatus","NetworkStatus","Provider","AddUser","username","password","newUser","email","Register","Registered","handleEmailChange","handleUsernameChange","handlePasswordChange","handleRegisterAttempt","badForm","registered","width","variant","Login","setID","setUsername","setPassword","toggleRegistered","stayLoggedIn","badLogin","toggleBadLogin","useLazyQuery","getID","called","handleLogin","autoFocus","App","userID","setUserID","wsLink","WebSocketLink","uri","hostname","options","reconnect","httpLink","HttpLink","splitLink","split","query","definition","getMainDefinition","kind","operation","apolloClient","ApolloClient","link","cache","InMemoryCache","onError","networkError","graphQLErrors","ReactDOM","render","client","content","document","getElementById"],"mappings":"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","file":"static/js/main.ad4ca82f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const UserContext = React.createContext({\r\n    user: null,\r\n    refreshUser: () => {},\r\n    toggleNavBar: () => {},\r\n})","import {gql} from '@apollo/client';\r\n\r\n//queries for client, import from here to necessary paths\r\n/* export const getUsers = gql`\r\n  query getAllUsers{\r\n    users {\r\n      name\r\n      username\r\n      password\r\n    }\r\n  }\r\n`; */\r\n/* export const getUser = gql`\r\n  query getUser($username:String, $password:String){\r\n    user(username: $username, password: $password){\r\n      _id\r\n      name\r\n      campaigns{\r\n        _id\r\n        name\r\n        dm\r\n      }\r\n      characters{\r\n        _id\r\n        name\r\n      }\r\n    }\r\n  }\r\n`; */\r\n\r\nexport const getUserID = gql`\r\n  query getUserID($username:String, $password:String){\r\n    getUserID(username:$username, password:$password)\r\n  }\r\n`;\r\n\r\nexport const getUserByID = gql`\r\n  query getUserByID($id: String){\r\n    user(id: $id){\r\n      _id\r\n      name\r\n      campaigns{\r\n        _id\r\n        name\r\n        dm\r\n        currentSession\r\n      }\r\n      characters{\r\n        _id\r\n        name\r\n        campaign\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const addUser = gql`\r\n  mutation addUser($name:String, $username:String, $password:String){\r\n    addUser(name:$name, username:$username, password:$password){\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const currentUser = gql`\r\n  subscription currentUser($id:String){\r\n    updateUser(id:$id){\r\n      _id\r\n      name\r\n      permissions\r\n      campaigns{\r\n        _id\r\n        name\r\n        dm\r\n        currentSession\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getCampaignID = gql`\r\n  query getCampaignID($name:String){\r\n    campaign(name:$name){\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport const getCampaign = gql`\r\n  query getCampaign($id:String){\r\n    campaign(id:$id){\r\n      name\r\n      dm\r\n    }\r\n  }\r\n`;\r\n\r\nexport const addCampaign = gql`\r\n  mutation addCampaign($dm:String, $name:String){\r\n    addCampaign(dm:$dm, name:$name){\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const joinExistingCampaign = gql`\r\n  mutation joinExistingCampaign($id:String, $user:String){\r\n      joinCampaign(id:$id, user:$user){\r\n        name\r\n      }\r\n  }\r\n`;\r\n\r\nexport const deleteCampaign = gql`\r\n  mutation deleteCampaign($user:String, $dm:String, $campaign:String){\r\n    deleteCampaign(user:$user, dm:$dm, campaign:$campaign)\r\n  }\r\n`;\r\n\r\nexport const renameCampaign = gql`\r\n  mutation renameCampaign($id:String, $name:String){\r\n    renameCampaign(id:$id, name:$name){\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getCharacter = gql`\r\n  query getCharacter($id:String){\r\n    character(id:$id){\r\n      _id\r\n      user\r\n      campaign\r\n      name\r\n      race\r\n      background\r\n      class\r\n      level\r\n      hp\r\n      cha\r\n      con\r\n      dex\r\n      int\r\n      str\r\n      wis\r\n    }\r\n  }\r\n`;\r\n\r\nexport const addCharacter = gql`\r\n  mutation addCharacter($user:String, $campaign:String, $name:String, $race:String, $background:String){\r\n    addCharacter(user:$user, campaign:$campaign, name:$name, race:$race, background:$background){\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateCharacterInfo = gql`\r\n  mutation updateCharacterInfo($id:String, $name:String, $campaign:String){\r\n    updateCharacterInfo(id:$id, name:$name, campaign:$campaign){\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const updateCharacterStats = gql`\r\n  mutation updateCharacterStats($id:String, $class:String, $cha:Int, $con:Int, $dex:Int, $int:Int, $str:Int, $wis:Int){\r\n    updateCharacterStats(id:$id, class:$class, cha:$cha, con:$con, dex:$dex, int:$int, str:$str, wis:$wis){\r\n      _id\r\n      campaign\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const deleteCharacter = gql`\r\n  mutation deleteCharacter($user:String, $campaign:String, $character:String){\r\n    deleteCharacter(user:$user, campaign:$campaign, character:$character)\r\n  }\r\n`;\r\n\r\nexport const getClasses = gql`\r\n  query getClasses{\r\n    classes{\r\n      index\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const getRaces = gql`\r\n  query getRaces{\r\n    races{\r\n      index\r\n      name\r\n      speed\r\n      age\r\n      alignment\r\n      size_description\r\n      language_desc\r\n    }\r\n  }\r\n`;\r\n\r\nexport const currentSessionID = gql`\r\n  query currentSessionID($campaign:String){\r\n    getCurrentSessionID(campaign:$campaign)\r\n  }\r\n`;\r\n\r\nexport const createSession = gql`\r\n  mutation createSession($campaign:String, $user:String){\r\n    createSession(campaign:$campaign, user:$user){\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const endSession = gql`\r\n  mutation endSession($campaign:String, $user:String){\r\n    endSession(campaign:$campaign, user:$user)\r\n  }\r\n`;\r\n\r\n//gameplay\r\n\r\nexport const changeCharacterHealth = gql`\r\n  mutation changeCharacterHealth($session:String, $character:String, $hp:Int){\r\n    changeCharacterHealth(session:$session, character:$character, hp:$hp)\r\n  }\r\n`;\r\n\r\nexport const currentSession = gql`\r\n  query currentSession($id:String){\r\n    session(id:$id){\r\n      _id\r\n      campaign\r\n      characters{\r\n        _id\r\n        position\r\n        character{\r\n          user\r\n          name\r\n          race\r\n          background\r\n          class\r\n          level\r\n          hp\r\n          cha\r\n          con\r\n          dex\r\n          int\r\n          str\r\n          wis\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const onSessionUpdate = gql`\r\n  subscription onSessionUpdate($id:String){\r\n    sessionUpdate(id:$id){\r\n      _id\r\n      campaign\r\n      characters{\r\n        _id\r\n        position\r\n        character{\r\n          user\r\n          name\r\n          race\r\n          background\r\n          class\r\n          level\r\n          hp\r\n          cha\r\n          con\r\n          dex\r\n          int\r\n          str\r\n          wis\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;","import React from 'react'\r\nimport '../../App.css'\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function NavBar(props){\r\n\r\n    const current = window.location.pathname\r\n    \r\n    var home = <Link to=\"/\"  className=\"navLink-home\">\r\n            <h3> DND20 </h3>\r\n        </Link>\r\n    var campaigns =  <Link to=\"/Campaigns\" className=\"navLink\">\r\n            <p> Campaigns </p>\r\n        </Link>\r\n    var characters = <Link to=\"/Characters\" className=\"navLink\">\r\n            <p> Characters </p>\r\n        </Link>\r\n    var play = <Link to=\"/Play\" className=\"navLink\">\r\n            <p> Play </p>\r\n        </Link>\r\n    var account = <Link to=\"/MyAccount\" className=\"navLink\">\r\n            <p> My Account </p>\r\n        </Link>\r\n    var links = [home, campaigns, characters, play, account]\r\n\r\n    //maybe set current page's link's background to different colour\r\n\r\n    return(\r\n        <nav className=\"navbar\">\r\n            {links}\r\n        </nav>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport {useState} from 'react';\r\nimport '../App.css';\r\nimport {UserContext} from '../misc/UserContext';\r\n\r\nfunction Home() {\r\n\t\r\n\tconst {user:me} = useContext(UserContext);\r\n\tconst [buttonText, setButtonText] = useState(\"Next\");\r\n\r\n\tfunction setButtonIfUser(){\r\n\t\tif(me){\r\n\t\t\tsetButtonText(me.name);\r\n\t\t}else{\r\n\t\t\tsetButtonText(\"no user\")\r\n\t\t}\r\n\t}\r\n\r\n\treturn(\r\n\t\t<>\r\n\t\t\t<br/>\r\n\t\t\t<img src=\"images/Nooth_DnD.png\" className=\"App-logo\" alt=\"logo\" />\r\n\t\t\t<br/>\r\n\t\t\t<h1 className=\"title\">\r\n\t\t\t\tDnD20\r\n\t\t\t</h1>\r\n\t\t\t<button name=\"showpong\" onClick={() => setButtonIfUser()}>\r\n\t\t\t\t{buttonText}\r\n\t\t\t</button>\r\n\t\t\t<p>welcome to the app, gamer</p>\r\n\t\t</>\r\n\t)\r\n}\r\nexport default Home;\r\n","import React, {useContext} from 'react';\r\nimport {useMutation, useQuery} from '@apollo/client'\r\nimport '../../App.css';\r\nimport {UserContext} from '../../misc/UserContext'\r\nimport {getCampaign, renameCampaign, deleteCampaign} from '../../queries'\r\n\r\nexport default class EditCampaign extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.campaignID = this.props.campaignID\r\n        this.handleNameChange = this.handleNameChange.bind(this)\r\n        this.submit = this.submit.bind(this)\r\n        this.delete = this.delete.bind(this)\r\n        this.submitted = this.submitted.bind(this)\r\n        this.returnCampaign = this.returnCampaign.bind(this)\r\n        this.toggleID = this.toggleID.bind(this)\r\n        this.state = {submit:false, delete:false, loaded:false, campaign:null, name:\"\", showID:false}\r\n    }\r\n\r\n    handleNameChange(e){\r\n\t\te.preventDefault();\r\n\t\tthis.setState({name: e.target.value});\r\n\t}\r\n\r\n    submit(e){\r\n        this.setState({submit:true})\r\n        this.props.submit(e)\r\n    }\r\n\r\n    delete(){\r\n        this.setState({delete:true})\r\n    }\r\n\r\n    submitted(){\r\n        this.setState({submit:false, delete:false}, ()=>{this.props.back()})\r\n    }\r\n\r\n    returnCampaign(campaign){\r\n        console.log(\"selected campaign:\", campaign)\r\n        this.setState({campaign:campaign, name:campaign.name, loaded:true})\r\n    }\r\n\r\n    toggleID(){\r\n        this.setState({showID:!this.state.showID})\r\n    }\r\n\r\n    render() {\r\n        if(this.campaignID != null){\r\n            let isDM = false\r\n            if(this.state.campaign !== null){\r\n                isDM = (this.props.currentUserID===this.state.campaign.dm)\r\n            }\r\n            return(\r\n                <>\r\n                    {(!this.state.loaded && !this.state.submit) && <div>\r\n                        <LoadCampaign ID={this.campaignID} return={this.returnCampaign}/>\r\n                    </div>}\r\n                    {isDM && <>{(this.state.loaded && !this.state.submit) && <div><img src=\"images/Nooth_DnD.png\" className=\"App-logo\" alt=\"logo\" />\r\n                        <h1 className=\"title\">\r\n                            Edit Campaign \r\n                        </h1>\r\n                        {this.state.showID ? <><p>{this.campaignID}<button onClick={this.toggleID}>x</button></p></> : <button onClick={this.toggleID}>Show ID</button>}\r\n                        <button onClick={this.delete}>Delete this campaign</button>\r\n                        <form className=\"Form\" onSubmit={this.submit}>\r\n                            <div><label htmlFor=\"name\" className=\"tbLabel\">Campaign Name: \r\n                            <input type=\"name\" id=\"name\" name=\"name\" required={true} onChange={this.handleNameChange} value={this.state.name}/></label><br/></div>\r\n                            <input type=\"submit\" value=\"Submit\"/>\r\n                        </form><br/>\r\n                    </div>}</>}\r\n                    {/* this.state.leave && <LeaveCampaign/> */}\r\n                    {this.state.submit && <SubmitCampaign submitted={this.submitted} id={this.campaignID} name={this.state.name}/>} \r\n                    {this.state.delete && <DeleteCampaign submitted={this.submitted} dm={this.state.campaign.dm} campaignID={this.campaignID}/>}\r\n                    <button onClick={this.props.back}>Go Back</button>\r\n                </>\r\n            )\r\n        }else{\r\n            return (\r\n                <div>\r\n                    <p>Error: No Campaign</p>\r\n                    <button onClick={this.props.back}>Go Back</button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nfunction LoadCampaign(props){\r\n    const {loading, data, error} = useQuery(getCampaign, {variables:{id:props.ID}, fetchPolicy:'network-only'})\r\n    while(loading){\r\n        return(<p>loading...</p>)\r\n    }\r\n    if(error){//no need to print errors here, as they wont. just if data && data.variable\r\n        console.log(error)\r\n        return(<p></p>)\r\n    }else{\r\n        props.return(data.campaign)\r\n        return(<p>done</p>)\r\n    }\r\n}\r\n\r\nfunction SubmitCampaign(props){\r\n    const [submitCampaign, {data, loading}] = useMutation(renameCampaign)\r\n    while(loading){\r\n        return(<p>loading</p>)\r\n    }\r\n    if(data===undefined){\r\n        submitCampaign({variables:{id:props.id, name:props.name}})\r\n    }else{\r\n        console.log(data)\r\n        props.submitted()\r\n    }\r\n    return null\r\n}\r\n\r\nfunction DeleteCampaign(props){\r\n    const {user:currentUser} = useContext(UserContext)\r\n    const [delCampaign, { data, loading }] = useMutation(deleteCampaign);//this method means it only gets added once\r\n\twhile(loading){\r\n\t\treturn(<p>Loading...</p>);\r\n\t}\r\n    if(data===undefined){\r\n        delCampaign({variables:{user:currentUser._id, dm:props.dm, campaign:props.campaignID}})\r\n        console.log('attempted deleteCampaign')\r\n    }else if(data != null){\r\n        console.log('done', data)\r\n        props.submitted()\r\n    }\r\n    return null\r\n}\r\n\r\nfunction LeaveCampaign(props){\r\n    const {user:currentUser} = useContext(UserContext)\r\n    const [tryLeaveCampaign, { data, loading }] = useMutation(/* leaveCampaign */);//this method means it only gets added once\r\n\twhile(loading){\r\n\t\treturn(<p>Loading...</p>);\r\n\t}\r\n    if(data===undefined){\r\n        tryLeaveCampaign({variables:{user:currentUser._id, dm:props.dm, campaign:props.campaignID}})\r\n        console.log('attempted deleteCampaign')\r\n    }else if(data != null){\r\n        console.log('done', data)\r\n        props.submitted()\r\n    }\r\n    return null\r\n}","import React, {useContext} from 'react'\r\nimport {UserContext} from '../../misc/UserContext'\r\n\r\nexport function DisplayCampaigns(props){//need to render the Campaign function for as many as there are in campaigns collection\r\n    const {user, refreshUser} = useContext(UserContext)\r\n    if(props.needsRefresh){\r\n        refreshUser()\r\n        props.refreshed()\r\n    }\r\n    const campaignList = user.campaigns.map((currentValue, index)=>{return <Campaign key={index} campaign={currentValue} changeSelected={props.changeSelected} purpose={props.purpose} currentUser={user._id}/>})\r\n    return (\r\n        <>\r\n            {(user.campaigns.length===0) && <p>You are not currently participating in any campaigns.</p>}\r\n            {(user.campaigns.length!==0) && campaignList}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction Campaign(props){\r\n    console.log(props.campaign.dm, props.currentUser)\r\n    return (\r\n        <div className=\"campaign\">\r\n            <p key=\"c1\" className=\"campaign-name\">{props.campaign.name}</p>\r\n            <ul><li key=\"editButton\">\r\n                {props.purpose===\"Edit\" && <button onClick={() => props.changeSelected(props.campaign._id)}>\r\n                    Edit\r\n                </button>}\r\n                {props.purpose===\"Play\" && <button onClick={() => props.changeSelected(props.campaign.currentSession)}>\r\n                    Play\r\n                </button>}\r\n            </li></ul>\r\n        </div>\r\n    )\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport '../App.css';\r\nimport {useMutation} from '@apollo/client';\r\nimport {UserContext} from '../misc/UserContext';\r\nimport EditCampaign from '../components/campaigns/EditCampaign'\r\nimport {addCampaign, joinExistingCampaign} from '../queries'\r\nimport {DisplayCampaigns} from '../components/campaigns/DisplayCampaigns'\r\n\r\nexport default function Campaigns(props) {\r\n    const {user} = useContext(UserContext)\r\n    const [selected, changeSelected] = useState(null)\r\n    const [chosen, changeChosen] = useState(false)\r\n    const [wantsNew, changeWantsNew] = useState(false)\r\n    const [newName, changeNewName] = useState(\"\")\r\n    const [newSubmitted, changeNewSubmitted] = useState(false)\r\n    const [needsRefresh, changeNeedsRefresh] = useState(false)\r\n    const [wantsJoin, changeWantsJoin] = useState(false)\r\n    const [joinName, changeJoinName] = useState(\"\")\r\n    const [joinSubmitted, changeJoinSubmitted] = useState(false)\r\n    const [newCampaign, { data: addData, loading: addLoading }] = useMutation(addCampaign)\r\n    const [joinCampaign, {data: joinData, loading: joinLoading}] = useMutation(joinExistingCampaign)\r\n\r\n    useEffect(()=>{\r\n        if(wantsNew && newSubmitted && !addLoading && addData===undefined){\r\n            newCampaign({variables:{dm:user._id, name:newName}})\r\n        }\r\n        if(addData!==undefined){\r\n            changeWantsNew(false)\r\n            changeNewSubmitted(false)\r\n            changeChosen(true)\r\n            changeSelected(addData.addCampaign._id)\r\n        }\r\n    }, [addData, addLoading, newCampaign, newName, newSubmitted, user._id, wantsNew])\r\n\r\n    useEffect(()=>{\r\n        if(wantsJoin && joinSubmitted && !joinLoading && joinData===undefined){\r\n            joinCampaign({variables:{id:joinName, user:user._id}})//causes bad request error 400 for some reason, but works in playground\r\n        }\r\n        if(joinData!==undefined){\r\n            changeWantsJoin(false)\r\n            changeJoinSubmitted(false)\r\n            changeChosen(true)\r\n            changeSelected(joinData.joinCampaign._id)\r\n        }\r\n    }, [joinCampaign, joinData, joinLoading, joinName, joinSubmitted, user._id, wantsJoin])\r\n\r\n    return(<>\r\n        {!chosen && <><h1 className=\"title\"> Campaigns </h1>\r\n            {!wantsJoin && <button onClick={()=>{changeWantsJoin(!wantsJoin)}}>Join Campaign</button>}\r\n            {wantsJoin && <><input type=\"campaign\" onChange={(e)=>{e.preventDefault();changeJoinName(e.target.value)}} value={joinName}></input><button onClick={()=>{changeJoinSubmitted(!joinSubmitted)}}>Join</button><button onClick={()=>{changeWantsJoin(!wantsJoin)}}>x</button></>}\r\n            {(!wantsNew && !newSubmitted) && <button onClick={()=>{changeWantsNew(!wantsNew)}}>+</button>}\r\n            {(wantsNew && !newSubmitted) && <>\r\n                <form className=\"Form\" onSubmit={(e)=>{e.preventDefault();changeNewSubmitted(!newSubmitted)}}>\r\n                    <label htmlFor=\"name\" className=\"tbLabel\">Campaign Name: \r\n                    <input type=\"name\" id=\"name\" name=\"name\" required={true} onChange={(e)=>{e.preventDefault();changeNewName(e.target.value)}} value={newName}/></label>\r\n                    <input type=\"submit\" value=\"Submit\"/>\r\n                    <button onClick={()=>{changeWantsNew(!wantsNew)}}>x</button>\r\n                </form>\r\n            </>}<br/><br/>\r\n            <DisplayCampaigns needsRefresh={needsRefresh} refreshed={()=>{changeNeedsRefresh(false)}} changeSelected={(selected)=>{changeSelected(selected);changeChosen(true)}} purpose=\"Edit\"/>\r\n        </>}\r\n        {chosen && <EditCampaign currentUserID={user._id} campaignID={selected} submit={()=>{}} back={()=>{changeSelected(null);changeChosen(false);changeNeedsRefresh(true)}}/>}\r\n    </>)\r\n}","export function arrayToOptions(array, selected){\r\n    let newArray = []\r\n    if(array[0]!==undefined){\r\n        if(array[0].index!==undefined){\r\n            for (let i=0; i<array.length; i++){\r\n                if(array[i].index!==selected){\r\n                    newArray.push(<option value={array[i].index} key={i}>{array[i].name}</option>)\r\n                }else{\r\n                    newArray.push(<option value={array[i].index} key={i}>{array[i].name}</option>)\r\n                }\r\n            }\r\n        }else if (array[0]._id!==undefined){\r\n            for (let i=0; i<array.length; i++){\r\n                if(array[i].index!==selected){\r\n                    newArray.push(<option value={array[i]._id} key={i}>{array[i].name}</option>)\r\n                }else{\r\n                    newArray.push(<option value={array[i]._id} key={i}>{array[i].name}</option>)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return newArray\r\n}","import React, {useContext, useEffect, useState} from 'react'\r\nimport {useQuery, useMutation} from '@apollo/client'\r\nimport '../../App.css'\r\nimport {addCharacter, deleteCharacter, getCharacter, getClasses, getRaces, updateCharacterInfo, updateCharacterStats} from '../../queries'\r\nimport { arrayToOptions } from '../../functions/GeneralFunctions'\r\nimport { UserContext } from '../../misc/UserContext'\r\n\r\nexport default class EditCharacter extends React.Component {\r\n\r\n    static contextType = UserContext\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.user = this.props.currentUser\r\n        this.characterID = this.props.characterID\r\n        this.returnLoaded = this.returnLoaded.bind(this)\r\n        this.submittedNew = this.submittedNew.bind(this)\r\n        this.state = {character:null, submitNew:false, submitGeneral:false, name:\"\", race:\"\", bg:\"\", campaign:\"\"}\r\n    }\r\n\r\n    returnLoaded(character){\r\n        this.setState({character:character})\r\n    }\r\n\r\n    submittedNew(){\r\n        this.setState({submitNew:false, name:\"\", race:\"\", bg:\"\", campaign:\"\"})\r\n        this.props.back()\r\n    }\r\n\r\n    render(){\r\n        return(<>\r\n            <button className=\"backButton\" onClick={this.props.back}>Back</button>{/* vvv unloaded and unentered*/}\r\n            {/* ((this.characterID!==null)&&(this.state.character===null)) ? <LoadCharacter ID={this.characterID} return={this.returnLoaded}/> : <CharacterInfo submitNewGeneral={this.submitNewGeneral} user={this.user} character={this.state.character} new={this.state.character===null}/> */}\r\n            <CharacterInfo submitNew={this.submitNew} submitGeneral={this.submitGeneral} user={this.user} character={this.state.character} new={this.state.character===null} back={this.props.back}/>\r\n            {((this.characterID!==null)&&(this.state.character===null)) && <LoadCharacter ID={this.characterID} return={this.returnLoaded}/>}\r\n        </>)\r\n    }\r\n}\r\n\r\nfunction LoadCharacter(props){\r\n    console.log(props.ID)\r\n    const {loading, data, error} = useQuery(getCharacter, {variables:{id:props.ID}, fetchPolicy:'network-only'})\r\n    while(loading){\r\n        return(<p>loading...</p>)\r\n    }\r\n    if(error){//no need to print errors here, as they wont. just if data && data.variable\r\n        console.log(error)\r\n        return(<p></p>)\r\n    }else{\r\n        console.log(data)\r\n        props.return(data.character)\r\n        return(<p>done</p>)\r\n    }\r\n}\r\n\r\nfunction CharacterInfo(props){\r\n    console.log('character info', props.new)\r\n    const {loading:raceLoading, data:raceData} = useQuery(getRaces)\r\n    const {loading:classLoading, data:classData} = useQuery(getClasses)\r\n    const [page, changePage] = useState(0)\r\n    while(classLoading||raceLoading){\r\n        return(<p>Loading...</p>)\r\n    }\r\n    let pages = [\r\n        (props.new ? <NewGeneralInfo races={raceData.races} user={props.user} submit={props.submitNew} back={props.back}/> : <ExistingGeneralInfo character={props.character} classes={classData.classes} submit={props.submitGeneral} back={props.back}/>),\r\n    ]\r\n    pages.forEach(element => {\r\n        if(element!==pages[page]){\r\n            element = null\r\n        }\r\n    })\r\n    //make a set of buttons to change page with the index of the pages array\r\n    return (<div>\r\n        {pages}\r\n    </div>)\r\n}\r\n\r\nfunction NewGeneralInfo(props){\r\n    const {user} = useContext(UserContext)\r\n    const [name, changeName] = useState(\"\")\r\n    const [background, changeBG] = useState(\"\")\r\n    const [race, changeRace] = useState(\"\")\r\n    const [campaign, changeCampaign] = useState(\"\")\r\n    const [createNew, {loading:newLoading, data:newData}] = useMutation(addCharacter)\r\n    console.log(user.campaigns)\r\n    useEffect(()=>{\r\n        if (user.campaigns[0]!==undefined){\r\n            console.log(user.campaigns[0]._id)\r\n            changeCampaign(user.campaigns[0]._id)\r\n        }\r\n        if (props.races[0]!==undefined){\r\n            console.log(props.races[0].index)\r\n            changeRace(props.races[0].index)\r\n        }\r\n    },[props.races, user.campaigns])\r\n    while(newLoading){\r\n        return(<p>Loading...</p>)\r\n    }\r\n    if(newData!==undefined){\r\n        props.back()\r\n    }\r\n    return (<form onSubmit={()=>{console.log(user._id, campaign, name, race, background);createNew({variables:{user:user._id, campaign:campaign, name:name, race:race, background:background}})}}>\r\n        <input type=\"submit\" /><br/>\r\n        <label htmlFor=\"name\" className=\"tbLabel\">Name: \r\n        <input type=\"name\" id=\"name\" name=\"name\" required={true} onChange={(e)=>{e.preventDefault();changeName(e.target.value)}} value={name}/></label>\r\n        <CampaignSelect id=\"campaign\" campaigns={user.campaigns} changeCampaign={changeCampaign}/><br/>\r\n        <label htmlFor=\"bg\" className=\"tbLabel\">Background Info / Lore: \r\n        <textarea id=\"bg\" name=\"bg\" onChange={(e)=>{e.preventDefault();changeBG(e.target.value)}} value={background} rows=\"4\" cols=\"50\" maxLength=\"500\"/></label><br/>\r\n        <RaceSelect id=\"race\" races={props.races} changeRace={changeRace}/><br/>\r\n    </form>)\r\n}\r\n\r\nfunction ExistingGeneralInfo(props){\r\n    const {user} = useContext(UserContext)\r\n    const character = props.character\r\n    const [campaign, changeCampaign] = useState(character.campaign)\r\n    const [charClass, changeClass] = useState(character.class)\r\n    const [str, changeStr] = useState(character.str)\r\n    const [dex, changeDex] = useState(character.dex)\r\n    const [con, changeCon] = useState(character.con)\r\n    const [int, changeInt] = useState(character.int)\r\n    const [wis, changeWis] = useState(character.wis)\r\n    const [cha, changeCha] = useState(character.cha)//need to implement for maximum levels etc.\r\n    const [rename, toggleRename] = useState(false)\r\n    const [name, changeName] = useState(character.name)\r\n    const [delCharacter, {loading:delLoading, data:delData}] = useMutation(deleteCharacter, {variables:{character:character._id, user:character.user, campaign:character.campaign}})\r\n    const [updateInfo, {loading:infoLoading, data:infoData}] = useMutation(updateCharacterInfo, {variables:{id:character._id, name:name, campaign:campaign}})\r\n    const [updateStats, {loading:statsLoading, data:statsData}] = useMutation(updateCharacterStats, {variables:{id:character._id, class:charClass, cha:parseInt(cha), con:parseInt(con), str:parseInt(str), dex:parseInt(dex), int:parseInt(int), wis:parseInt(wis)}})\r\n    \r\n    useEffect(()=>{//only runs once, because props.classes never changes\r\n        if (props.classes[0]!==undefined){\r\n            changeClass(props.classes[0].index)\r\n        }\r\n    },[props.classes])\r\n\r\n    while(delLoading||infoLoading||statsLoading){\r\n        if(delLoading){\r\n            console.log(character._id, character.user, character.campaign)\r\n        }\r\n        return(<p>loading</p>)\r\n    }\r\n    if(delData!==undefined||infoData!==undefined||statsData!==undefined){\r\n        props.back()\r\n    }\r\n    return (<><div><h2>{character.name}</h2>\r\n        <button onClick={delCharacter}>Delete Character</button></div>\r\n        {rename ? <>\r\n            <form onSubmit={updateInfo}>\r\n                <label htmlFor=\"name\" className=\"tbLabel\">Name: \r\n                <input type=\"text\" id=\"name\" name=\"name\" required={true} onChange={(e)=>{e.preventDefault();changeName(e.target.value)}} value={name}/></label>\r\n                <CampaignSelect id=\"campaign\" current={campaign} campaigns={user.campaigns} changeCampaign={changeCampaign}/>\r\n                <input type=\"submit\"/><button onClick={()=>{toggleRename(!rename)}}>Cancel</button>\r\n            </form>\r\n        </> : <><button onClick={()=>{toggleRename(!rename)}}>Rename/ChangeCampaign</button><br/></>}\r\n        <form onSubmit={updateStats}>\r\n            <input type=\"submit\" /><br/>\r\n            <ClassSelect id=\"class\" current={charClass} classes={props.classes} changeClass={changeClass}/><br/>\r\n            <label htmlFor=\"str\" className=\"tbLabel\">Str: \r\n            <input type=\"number\" id=\"str\" name=\"str\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeStr(e.target.value)}} value={str}/></label>\r\n            <label htmlFor=\"dex\" className=\"tbLabel\">Dex: \r\n            <input type=\"number\" id=\"dex\" name=\"dex\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeDex(e.target.value)}} value={dex}/></label>\r\n            <label htmlFor=\"con\" className=\"tbLabel\">Con: \r\n            <input type=\"number\" id=\"con\" name=\"con\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeCon(e.target.value)}} value={con}/></label>\r\n            <label htmlFor=\"int\" className=\"tbLabel\">Int: \r\n            <input type=\"number\" id=\"int\" name=\"int\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeInt(e.target.value)}} value={int}/></label>\r\n            <label htmlFor=\"wis\" className=\"tbLabel\">Wis: \r\n            <input type=\"number\" id=\"wis\" name=\"wis\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeWis(e.target.value)}} value={wis}/></label>\r\n            <label htmlFor=\"cha\" className=\"tbLabel\">Cha: \r\n            <input type=\"number\" id=\"cha\" name=\"cha\" min=\"1\" max=\"20\" required={true} onChange={(e)=>{e.preventDefault();changeCha(e.target.value)}} value={cha}/></label>\r\n        </form>\r\n    </>)\r\n}\r\n\r\nfunction ClassSelect(props){\r\n    let classOptions = arrayToOptions(props.classes, props.current)\r\n    return(\r\n        <label htmlFor=\"class\" className=\"tbLabel\">Class:\r\n            <select id=\"classes\" required={true} name=\"classes\" onChange={(e)=>{props.changeClass(props.classes[e.target.selectedIndex].index)}}>\r\n                {classOptions}\r\n            </select>\r\n        </label>\r\n    )\r\n}\r\n\r\nfunction RaceSelect(props){\r\n    const [selected, changeSelected] = useState(0)\r\n    let raceOptions = arrayToOptions(props.races)\r\n    return(\r\n        <div><label htmlFor=\"races\" required={true} className=\"tbLabel\">Race:\r\n            <select id=\"races\" name=\"races\" selectedIndex=\"0\" onChange={(e)=>{props.changeRace(props.races[e.target.selectedIndex].index); changeSelected(e.target.selectedIndex)}}>\r\n                {raceOptions}\r\n            </select></label>\r\n            <p>{props.races[selected].alignment}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction CampaignSelect(props){\r\n    const campaignOptions = arrayToOptions(props.campaigns, props.current)\r\n    return(<>\r\n        <label htmlFor=\"campaigns\" className=\"tbLabel\">Campaign:\r\n            <select id=\"campaigns\" name=\"campaigns\" selectedIndex=\"0\" required={true} onChange={(e)=>{props.changeCampaign(props.campaigns[e.target.selectedIndex]._id)}}>\r\n                {campaignOptions}\r\n            </select>\r\n        </label>\r\n    </>)\r\n}\r\n","import { useQuery, useMutation, useSubscription } from '@apollo/client'\r\nimport React, {useContext, useEffect} from 'react'\r\nimport {UserContext} from '../../misc/UserContext'\r\nimport { currentSessionID, createSession, endSession } from '../../queries'\r\n\r\nexport function DisplayCharacters(props){//need to render the Campaign function for as many as there are in campaigns collection\r\n    const {user, refreshUser} = useContext(UserContext)\r\n    if(props.needsRefresh){\r\n        refreshUser()\r\n        props.refreshed()\r\n    }\r\n    const [startSession, {data: createSessionData}] = useMutation(createSession)\r\n    const [finishSession, {data: endSessionData}] = useMutation(endSession)\r\n    const currentUser = user\r\n    const characterList = currentUser.characters.map((currentValue, index)=>{return <Character key={index} character={currentValue} changeSelected={props.changeSelected} purpose={props.purpose} currentUser={user} campaign={currentUser.campaigns.find(element => element._id===currentValue.campaign)}/>})\r\n    if(props.purpose===\"Play\"){\r\n        characterList.push(currentUser.campaigns.map(element=>{\r\n            return (<>\r\n                {user._id===element.dm && element.currentSession===null && <button onClick={() => startSession({variables:{campaign:element._id, user:user._id}})}>\r\n                    Begin {element.name}\r\n                </button>}\r\n                {user._id===element.dm && element.currentSession!==null && <button onClick={() => finishSession({variables:{campaign:element._id, user:user._id}})}>\r\n                    End {element.name} session\r\n                </button>}\r\n            </>)\r\n        }))\r\n    }\r\n    return (\r\n        <div>\r\n            {props.purpose===\"Play\" && <button onClick={()=>{refreshUser()}}>Refresh</button>}\r\n            {(user.characters.length===0) && <p>You do not currently have any characters.</p>}\r\n            {(user.campaigns.length!==0) && characterList}\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction Character(props){\r\n    return (\r\n        <div className=\"character\">\r\n            <p key=\"c1\" className=\"characer-name\">{props.character.name}</p>\r\n            <ul>\r\n                <li key=\"mainButton\">\r\n                    {props.purpose===\"Edit\" && <button onClick={() => props.changeSelected(props.character._id)}>\r\n                        Edit\r\n                    </button>}\r\n                    {(props.purpose===\"Play\" && props.campaign.currentSession!==null) && <button onClick={() => props.changeSelected(props.campaign.currentSession)}>\r\n                        Play\r\n                    </button>}\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react';\r\nimport '../App.css';\r\nimport {UserContext} from '../misc/UserContext';\r\nimport EditCharacter from '../components/characters/EditCharacter'\r\nimport {DisplayCharacters} from '../components/characters/DisplayCharacters'\r\n\r\nexport default class Characters extends React.Component {\r\n\r\n    static contextType = UserContext;\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {selected:null, chosen:false, needsRefresh:false, needsSubmit:false}\r\n        this.handleEditSubmit = this.handleEditSubmit.bind(this)\r\n        this.changeSelected = this.changeSelected.bind(this)\r\n        this.clearSelected = this.clearSelected.bind(this)\r\n        this.wantsNew = this.wantsNew.bind(this)\r\n        this.refreshed = this.refreshed.bind(this)\r\n    }\r\n\r\n    handleEditSubmit(e){\r\n        e.preventDefault();\r\n    }\r\n\r\n    changeSelected(selected){\r\n        this.setState({selected:selected, chosen:true})\r\n    }\r\n\r\n    clearSelected(){//need to update context\r\n        this.setState({selected:null, chosen:false, needsRefresh:true})\r\n    }\r\n    wantsNew(){\r\n        this.setState({chosen:true})\r\n    }\r\n    refreshed(){\r\n        this.setState({needsRefresh:false})\r\n    }\r\n\r\n    render() {\r\n        const {user} = this.context\r\n        return(\r\n            <>\r\n                <h1 className=\"title\"> Characters </h1>\r\n                {!this.state.chosen && <>\r\n                    <button onClick={this.wantsNew}>New Character</button>\r\n                    <DisplayCharacters needsRefresh={this.state.needsRefresh} refreshed={this.refreshed} changeSelected={this.changeSelected} purpose=\"Edit\"/> \r\n                </>}\r\n                {this.state.chosen && <EditCharacter currentUser={user} characterID={this.state.selected} submit={this.handleEditSubmit} back={this.clearSelected}/>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import { useMutation } from '@apollo/client'\r\nimport React, { useContext } from 'react'\r\nimport { UserContext } from '../../misc/UserContext'\r\nimport { changeCharacterHealth } from '../../queries'\r\n\r\nexport function PartyCharacters(props){\r\n    const {user} = useContext(UserContext)\r\n    const session = props.session\r\n    const myCharacter = session.characters.map((currentValue, index)=>{if(currentValue.character.user===user._id){return <CharacterInfo key={index} character={currentValue} sessionID={session._id} currentUser={user._id}/>}})\r\n    const partyCharacters = session.characters.map((currentValue, index)=>{if(currentValue.character.user!==user._id){return <CharacterInfo key={index} character={currentValue} sessionID={session._id} currentUser={user._id}/>}})\r\n    return (\r\n        <>\r\n            {myCharacter}\r\n            {(session.characters.length===0) && <p>No characters in this party.</p>}\r\n            {(session.characters.length!==0) && partyCharacters}\r\n        </>\r\n    )\r\n}\r\n\r\nfunction CharacterInfo(props){\r\n    const character = props.character.character\r\n    const [changeHealth, {data}] = useMutation(changeCharacterHealth, {variables:{session:props.sessionID, character:props.character._id}})\r\n    return (<div className=\"campaign\">\r\n        <p key=\"c1\" className=\"campaign-name\">{character.name}</p>\r\n        <ul>\r\n            <li key=\"hp\">\r\n                <p>{character.hp}</p>\r\n                {character.user===props.currentUser && <>\r\n                    <button onClick={()=>{changeHealth({variables:{hp:character.hp+1}})}}>+</button>\r\n                    <button onClick={()=>{changeHealth({variables:{hp:character.hp-1}})}}>-</button>\r\n                </>}\r\n            </li>\r\n        </ul>\r\n    </div>)\r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useSubscription, Subscription, useQuery } from '@apollo/client';\r\nimport '../App.css';\r\nimport {UserContext} from '../misc/UserContext'\r\nimport {currentSession, getUserID, onSessionUpdate} from '../queries'\r\nimport {PartyCharacters} from '../components/play/party'\r\nimport { DisplayCharacters } from '../components/characters/DisplayCharacters';\r\n\r\nexport default function Play(props) {\r\n    const {user} = useContext(UserContext)\r\n    const [selected, changeSelected] = useState(null)\r\n    const [needsRefresh, setNeedsRefresh] = useState(false)\r\n    const [needsRefetch, setNeedsRefetch] = useState(true)\r\n\r\n    return (<header className=\"App-header\">\r\n        {selected!==null ? <PlayView sessionID={selected} needsRefetch={needsRefetch} refetched={()=>{setNeedsRefetch(false)}}/> : <DisplayCharacters needsRefresh={needsRefresh} refreshed={()=>{setNeedsRefresh(true)}} changeSelected={changeSelected} purpose=\"Play\"/>}\r\n    </header>)\r\n}\r\n\r\nfunction PlayView(props){\r\n    const{data:queryData, loading:queryLoading, refetch} = useQuery(currentSession, {variables:{id:props.sessionID}})\r\n    const {data:updateData, loading:updateLoading} = useSubscription(onSessionUpdate, {variables:{id:props.sessionID}})\r\n    const [data, changeData] = useState(undefined)\r\n\r\n    useEffect(()=>{\r\n        if(props.needsRefetch){\r\n            refetch()\r\n            props.refetched()\r\n        }\r\n        if(updateData===undefined){\r\n            if(queryLoading){\r\n                console.log(\"loading\")\r\n            }\r\n            if(queryData!==undefined){\r\n                console.log(queryData.session)\r\n                changeData(queryData.session)\r\n            }\r\n        }else{\r\n            console.log(updateData.sessionUpdate)\r\n            changeData(updateData.sessionUpdate)\r\n        }\r\n    }, [queryLoading, queryData, updateLoading, updateData, refetch, props])\r\n\r\n    return (\r\n        <>\r\n            <h2>Play the game</h2>\r\n            {data!==undefined ? <PartyCharacters session={data}/> : <p>No characters in this party.</p>}\r\n        </>\r\n    )\r\n}\r\n\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport '../App.css';\r\nimport {UserContext} from '../misc/UserContext'\r\nimport {getUserID} from '../queries'\r\n\r\nexport default function MyAccount(props) {\r\n    const {user} = useContext(UserContext)\r\n\r\n    return (\r\n        <>\r\n\r\n        </>\r\n    )\r\n}","/**\r\n * This is the file that handles routing for the entire application\r\n */\r\nimport React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport '../../App.css';\r\nimport Home from '../../pages/Home';\r\nimport Campaigns from '../../pages/Campaigns';\r\nimport Characters from '../../pages/Characters'\r\nimport Play from '../../pages/Play'\r\nimport MyAccount from '../../pages/MyAccount'\r\n\r\nfunction PageSwitch(props){\r\n    return (\r\n        <header className=\"App-header\">\r\n            <Switch> {/* The Switch decides which component to show based on the current URL.*/}\r\n                <Route exact path='/' component={Home}/>\r\n                <Route exact path='/Campaigns' component={Campaigns}/>\r\n                <Route exact path='/Characters' component={Characters}/>\r\n                <Route exact path='/Play' component={Play}/>\r\n                <Route exact path='/MyAccount' component={MyAccount}/>\r\n            </Switch>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default PageSwitch;\r\n","import React from 'react';\r\nimport {NetworkStatus, useQuery} from '@apollo/client';\r\nimport {UserContext} from '../../misc/UserContext'\r\nimport {getUserByID} from '../../queries';\r\nimport '../../App.css';\r\nimport NavBar from './navbar'\r\nimport PageSwitch from './PageSwitch'\r\n\r\n\r\nexport default function Main(props){\r\n\r\n\tconst {loading, data, error, refetch, networkStatus} = useQuery(getUserByID, {variables:{id:props.id}, notifyOnNetworkStatusChange:true, fetchPolicy:'network-only'});\r\n\t\r\n\twhile(networkStatus===NetworkStatus.refetch){\r\n\t\treturn (<><NavBar currentUser={data.user}/><header><p>Retrieving your data...</p></header></>)\r\n\t}\r\n\twhile(loading){\r\n\t\treturn (<header><p>Loading...</p></header>);\r\n\t}\r\n\tif(error){\r\n\t\treturn (<p>There was an error. Please refresh the page and try again.</p>);\r\n\t}\r\n\tif(data !== undefined){\r\n\t\t//console.log(\"Logged in user\", data);\r\n\t\tconst context = { user:data.user, refreshUser:refetch }\r\n\t\treturn (\r\n\t\t\t<><NavBar currentUser={data.user}/>\r\n\t\t\t<UserContext.Provider value={context}>\r\n\t\t\t\t<PageSwitch/>\r\n\t\t\t</UserContext.Provider></>\r\n\t\t);\r\n\t}\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport {useQuery, useMutation} from '@apollo/client'\r\nimport '../App.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport {addUser, getUserID} from '../queries';\r\n\r\n\r\n\r\nclass Register extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\t\tthis.Registered = this.props.Registered;\r\n\t\tthis.handleNameChange = this.handleNameChange.bind(this);\r\n\t\tthis.handleEmailChange = this.handleEmailChange.bind(this);\r\n\t\tthis.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n\t\tthis.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n\t\tthis.handleRegisterAttempt = this.handleRegisterAttempt.bind(this);\r\n\t\tthis.state = {badForm:false, registered:false, name:\"\", email:\"\", username:\"\", password:\"\"};\r\n    }\r\n\thandleNameChange(e){\r\n\t\te.preventDefault();\r\n\t\tthis.setState({name: e.target.value});\r\n\t}\r\n\thandleEmailChange(e){\r\n\t\te.preventDefault();\r\n\t\tthis.setState({email: e.target.value});\r\n\t}\r\n\thandleUsernameChange(e){\r\n        e.preventDefault();\r\n        this.setState({username: e.target.value});\r\n    }\r\n    handlePasswordChange(e){\r\n        e.preventDefault();\r\n        this.setState({password: e.target.value});\r\n    }\r\n\r\n    handleRegisterAttempt(e){\r\n        e.preventDefault();\r\n\t\tif(!!this.state.name && !!this.state.email && !!this.state.username && !!this.state.password){\r\n\t\t\tthis.setState({registered: true});\r\n\t\t}else{\r\n\t\t\tthis.setState({badForm: true})\r\n\t\t}\r\n\t\t//need check all fields are filled out\r\n    }\r\n\r\n    render() {\r\n        return(//obviously needs more added\r\n            <>\r\n                {!this.state.registered && \r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<img src=\"images/Nooth_DnD.png\" width='300' alt=\"logo\"/>\r\n\t\t\t\t\t\t<h1 className=\"title\">\r\n\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t<form className=\"Form\" onSubmit={this.handleRegisterAttempt}>\r\n\t\t\t\t\t\t\t<label htmlFor=\"fullname\" className=\"tbLabel\">Full Name: \r\n\t\t\t\t\t\t\t<input type=\"name\" id=\"fullname\" name=\"fullname\" required={true} onChange={this.handleNameChange} value={this.state.name}/></label><br/>\r\n\t\t\t\t\t\t\t<label htmlFor=\"email\" className=\"tbLabel\" name=\"tbLabel\">Email: \r\n\t\t\t\t\t\t\t<input type=\"email\" id=\"email\" name=\"email\" required={true} onChange={this.handleEmailChange} value={this.state.email}/></label><br/>\r\n\t\t\t\t\t\t\t<label htmlFor=\"username\" className=\"tbLabel\" name=\"tbLabel\">Username: \r\n\t\t\t\t\t\t\t<input type=\"username\" id=\"username\" name=\"username\" required={true} onChange={this.handleUsernameChange} value={this.state.username}/></label><br/>\r\n\t\t\t\t\t\t\t<label htmlFor=\"password\" className=\"tbLabel\" name=\"tbLabel\">Password: \r\n\t\t\t\t\t\t\t<input type=\"password\" id=\"password\" name=\"password\" required={true} onChange={this.handlePasswordChange} value={this.state.password}/></label><br/>\r\n\t\t\t\t\t\t\t<input type=\"submit\" value=\"Submit\"/>\r\n\t\t\t\t\t\t</form><br/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\t{this.state.registered && <AddUser name={this.state.name} email={this.state.email} username={this.state.username} password={this.state.password}/>}\r\n\t\t\t\t{this.state.badForm && <p>Please make sure all boxes are filled in</p>/**this check seems redundant with the boxes being marked as required */}\r\n\t\t\t\t<button onClick={this.Registered} name=\"next\" variant=\"outlined\">\r\n\t\t\t\t\tGo back to login\r\n\t\t\t\t</button>\r\n            </>\r\n\t\t)\r\n    }\r\n}\r\n\r\nfunction AddUser(props){\r\n\tconst {data:queryData, loading:queryLoading} = useQuery(getUserID, {variables: {username:props.username, password:props.password}}, {fetchPolicy:'network-only'});//looking for existing user\r\n\tconst [newUser, { data, loading }] = useMutation(addUser);\r\n\twhile (queryLoading||loading) {console.log(\"loading\");return(<p>Loading...</p>)}\r\n\tconsole.log(queryData.getUserID)\r\n\tif(queryData!==undefined){\r\n\t\tif(queryData.getUserID===null && !queryLoading){//apparently here cannot read 'undefined' user, but that same method works in login???\r\n\t\t\tconsole.log(\"user doesn't already exist\")\r\n\t\t\tif(data===undefined){\r\n\t\t\t\tconsole.log(\"adding user\")\r\n\t\t\t\tnewUser({variables:{name:props.name, email:props.email, username:props.username, password:props.password}});\r\n\t\t\t}else if(data!=null){\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\treturn(<>\r\n\t\t\t\t\t<p>Welcome, {props.name}</p>\r\n\t\t\t\t</>);\r\n\t\t\t}\r\n\t\t}else if(queryData.getUserID!==null && !queryLoading){\r\n\t\t\tconsole.log(\"user already exists\", queryData.getUserID)\r\n\t\t\treturn (\r\n\t\t\t\t<p>Error: User already exists, try again</p>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\treturn <p></p>\r\n}\r\n\r\nexport default Register;","import React, { useEffect, useState } from 'react';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport '../App.css';\r\nimport Register from './Register';\r\nimport {getUserID} from '../queries'\r\n\r\nexport default function Login(props) {\r\n    const [id, setID] = useState(null)\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [registered, toggleRegistered] = useState(true)\r\n    const [stayLoggedIn, setStay] = useState(false)\r\n    const [badLogin, toggleBadLogin] = useState(false)\r\n    const [getID, {data, loading, called}] = useLazyQuery(getUserID, {fetchPolicy:'network-only'})\r\n\r\n    useEffect(()=>{//if the client recieves an id upon request, the user may continue. if not, they are stuck\r\n        if(!loading&&(id!==null)){\r\n            props.handleLogin(id)\r\n        }\r\n        if(!loading && called && id===null){\r\n            if(data!==undefined){\r\n                setID(data.getUserID)\r\n            }else{\r\n                toggleBadLogin(true)\r\n            }\r\n        }\r\n    }, [loading, called, id, data, props])\r\n\r\n    return (\r\n        <header className=\"App-header\">\r\n            {registered && //show login form if not logged in\r\n                (<><div><form id=\"Form\" className=\"Form\" onSubmit={(e)=>{e.preventDefault();getID({variables:{username:username, password:password}})}}>\r\n                        <p> Please enter your username and password </p>\r\n                        <label htmlFor=\"user\">Username: \r\n                            <input type=\"username\" name=\"user\" id=\"user\" required={true} autoFocus={true} value={username} onChange={(e)=>{e.preventDefault();setUsername(e.target.value)}}/>\r\n                        </label><br />\r\n                        <label htmlFor=\"pass\">Password: \r\n                            <input type=\"password\" name=\"pass\" id=\"pass\" required={true} value={password} onChange={(e)=>{e.preventDefault();setPassword(e.target.value);}}/>\r\n                        </label><br />\r\n                        <input type=\"submit\" value=\"Submit\" variant=\"outlined\"/>\r\n                        <label htmlFor=\"rememberLogin\"> Remember me\r\n                            <input type=\"checkbox\" id=\"rememberLogin\" name=\"rememberLogin\" value={stayLoggedIn}/>{/*not implemented yet*/}\r\n                        </label>\r\n                    </form>\r\n                    <button name=\"next2\" variant=\"outlined\" onClick={()=>{toggleRegistered(false)}}>\r\n                            register\r\n                    </button>\r\n                </div>\r\n                {badLogin && <p>Could not find a user to match input username and password.</p>}</>)\r\n            }\r\n            {loading && <p>loading...</p>}\r\n            {!registered && <Register Registered={()=>{toggleRegistered(true)}}/>}\r\n        </header>\r\n    )\r\n}\r\n\r\n/* class Login extends React.Component {//old version (class)\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.HandleLogin = this.props.HandleLogin;\r\n        this.SetLogin = this.props.SetLogin;\r\n        this.BadLogin = this.props.BadLogin;\r\n        this.Registered = this.Registered.bind(this);\r\n        this.NotRegistered = this.NotRegistered.bind(this);\r\n        this.handleLoginAttempt = this.handleLoginAttempt.bind(this);\r\n        this.handleUsernameChange = this.handleUsernameChange.bind(this);\r\n        this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n        this.state = {registered:true, loggedIn: false, username: \"\", password: \"\"};\r\n    }\r\n\r\n    handleUsernameChange(e){\r\n        e.preventDefault(); \r\n        this.setState({username: e.target.value});\r\n        //console.log(this.state.username);\r\n    }\r\n    handlePasswordChange(e){\r\n        e.preventDefault();\r\n        this.setState({password: e.target.value});\r\n        //console.log(this.state.password);\r\n    }\r\n\r\n    handleLoginAttempt(e){//logs the form\r\n        e.preventDefault();\r\n        this.HandleLogin(this.state.username, this.state.password);\r\n        this.setState({loggedIn: true});\r\n        this.SetLogin();\r\n    }\r\n\r\n    NotRegistered(){\r\n        this.setState({registered: false});\r\n    }\r\n\r\n    Registered(){\r\n        this.setState({registered: true});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"App-header\">\r\n                {(!this.state.loggedIn && this.state.registered) && //show login form if not logged in\r\n                    (<div><form id=\"Form\" className=\"Form\" onSubmit={this.handleLoginAttempt}>\r\n                        <p> Please enter your username and password </p>\r\n                        <label htmlFor=\"user\">Username: \r\n                            <input type=\"username\" name=\"user\" id=\"user\" required={true} autoFocus={true} onChange={this.handleUsernameChange} value={this.state.username}/>\r\n                        </label><br />\r\n                        <label htmlFor=\"pass\">Password: \r\n                            <input type=\"password\" name=\"pass\" id=\"pass\" required={true} onChange={this.handlePasswordChange} value={this.state.password}/>\r\n                        </label><br />\r\n                        <input type=\"submit\" value=\"Submit\" variant=\"outlined\"/>\r\n                        <label htmlFor=\"rememberLogin\"> Remember me\r\n                            <input type=\"checkbox\" id=\"rememberLogin\" name=\"rememberLogin\" value={this.state.loggedIn}//not implemented yet, checkbox doesnt even return anything on submit\r\n                        </label>\r\n                    </form>\r\n                    <button name=\"next2\" variant=\"outlined\" onClick={this.NotRegistered}>\r\n                            register\r\n                    </button>\r\n                    {this.BadLogin && <p>Could not find a user to match input username and password.</p>}\r\n                    </div>)\r\n                }\r\n                {(!this.state.registered && !this.state.loggedIn) && <Register Registered={this.Registered}/>}\r\n            </header>\r\n        )\r\n    }\r\n} */","import React, { useState } from 'react';\r\nimport './App.css';\r\nimport Main from './components/main/Main.js';\r\nimport Login from './pages/Login';\r\n\r\nfunction App(){\r\n    \r\n    const [userID, setUserID] = useState(null)\r\n    //add function to save ID/token to local storage here\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {userID ? <Main id={userID}/> : <Login handleLogin={setUserID}/>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nimport {ApolloClient, ApolloProvider, InMemoryCache, split, HttpLink} from '@apollo/client';\nimport {getMainDefinition} from '@apollo/client/utilities'\nimport {WebSocketLink} from '@apollo/client/link/ws'\n\n//from Apollo docs\nconst wsLink = new WebSocketLink({\n  uri: `ws://${window.location.hostname}:8080/graphql`,//just host, not hostname, for build version (to include port by default)\n  options: {reconnect:true}\n})\nconst httpLink = new HttpLink({\n  uri: `http://${window.location.hostname}:8080/graphql`\n});\nconst splitLink = split(({query})=>{\n  const definition = getMainDefinition(query)\n  /* console.log(definition.kind === 'OperationDefinition' && definition.operation === 'subscription') */\n  return (\n    definition.kind === 'OperationDefinition' && definition.operation === 'subscription'//uses wsLink if subscription operation\n  )\n}, wsLink, httpLink)\n\n\n//create apollo client\nexport const apolloClient = new ApolloClient({\n  link: splitLink,\n  cache: new InMemoryCache(),\n  onError: ({ networkError, graphQLErrors }) => {\n    console.log('graphQLErrors', graphQLErrors)\n    console.log('networkError', networkError)\n  },\n});\n\nReactDOM.render(\n  <ApolloProvider client = {apolloClient}>\n    <BrowserRouter>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/><App />\n    </BrowserRouter>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n\n\n/*\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();*/"],"sourceRoot":""}